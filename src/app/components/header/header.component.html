<div class="d-flex justify-content-between header-mobile">

  <div class="d-flex align-items-center justify-content-start">
    <div>
     <!-- <a href="https://www.charmey.ch/ecole-ski-charmey/" target="_blank"><img *ngIf="schoolLogo" alt="Escole" width="56px" src="{{schoolLogo}}"> </a>-->
      <a><img *ngIf="schoolLogo" alt="Escole" width="56px" src="{{schoolLogo}}"> </a>
    </div>
    <div class="d-flex flex-column justify-content-between school-text-container">
      <h2 class="mb-0 fs-6 text-white">{{schoolName}}</h2>
      <p class="mb-0 fs-6 montserrat">{{stationName}}</p>
    </div>
  </div>

  <div class="d-flex justify-content-center flex-row flex-wrap" *ngIf="userLogged==true">

        <!--LANGUAGE-->
        <div class="d-flex dropdown dropdown-header p-0 flex-row">
          <button class="btn pe-1 dropdown-toggle d-flex align-items-center header-login-user-mobile flex-row font-header-row" type="button"
            id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
            <div class="text-start">
              <a class="d-inline-block w-100 rounded-1">
                <span class="link-name">{{'text_language' | translate }}</span>
              </a>
            </div>
          </button>
          <ul class="dropdown-menu rounded-3" aria-labelledby="dropdownMenuButton1">

            <li>
              <a class="dropdown-item py-2 px-3 pointer" (click)="switchLang('fr')"
                [class.selectedLang]="selectedLang=='fr'">
                <img src="/assets/images/fr.png" width="24px" class="me-2">
                FR
              </a>
              <a class="dropdown-item py-2 px-3 pointer" (click)="switchLang('en')"
                [class.selectedLang]="selectedLang=='en'">
                <img src="/assets/images/en.png" width="24px" class="me-2">
                EN
              </a>
              <a class="dropdown-item py-2 px-3 pointer" (click)="switchLang('de')"
                [class.selectedLang]="selectedLang=='de'">
                <img src="/assets/images/de.png" width="24px" class="me-2">
                DE
              </a>
              <a class="dropdown-item py-2 px-3 pointer" (click)="switchLang('es')"
                [class.selectedLang]="selectedLang=='es'">
                <img src="/assets/images/es.png" width="24px" class="me-2">
                ES
              </a>
              <a class="dropdown-item py-2 px-3 pointer" (click)="switchLang('it')"
                [class.selectedLang]="selectedLang=='it'">
                <img src="/assets/images/it.png" width="24px" class="me-2">
                IT
              </a>
            </li>
          </ul>

        </div>
        <!--LANGUAGE-->

    <!--DROPDOWN USER-->
    <div class="d-flex dropdown dropdown-header p-0 flex-row">
      <button class="btn pe-1 dropdown-toggle d-flex align-items-center header-login-user-mobile flex-row font-header-row" type="button"
        id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
        <div class="text-start">
          <a class="d-inline-block w-100 rounded-1">
            <span class="link-name">{{userFirstName}} {{userLastName}}</span>
          </a>
        </div>
      </button>
      <ul class="dropdown-menu rounded-3" aria-labelledby="dropdownMenuButton1">

        <li (click)="goToUser()"><a class="dropdown-item py-2 px-3 pointer">{{'text_profile' | translate }}</a></li>
        <li (click)="logOut()"><a class="dropdown-item py-2 px-3 pointer">{{'text_logout' | translate }}</a></li>
      </ul>

    </div>
    <!--DROPDOWN USER-->

    <!--CART BUTTON-->
    <div class="d-flex p-0">
      <button class="btn pe-1 d-flex align-items-center font-header-row" type="button"
        (click)="goToCart()" style="position:relative;">
        <div class="text-start">
          <a class="d-inline-block w-100 rounded-1">
            <span class="link-name"><img src="/assets/icons/cart.svg" width="24px"></span>
          </a>
        </div>
        <div *ngIf="userBookDates && userBookDates.length" class="number-cart">
          {{userBookDates.length}}
        </div>
      </button>

      <!--
      <button *ngIf="router.url.endsWith('/cart')" class="btn ps-2 pe-3 d-flex align-items-center" type="button"
        (click)="goToCourses()">
        <div class="text-start">
          <a class="d-inline-block w-100 rounded-1">
            <span class="link-name"><img src="/assets/icons/icons-outline-arrow-left.svg" width="24px"> {{'text_continue' | translate }}</span>
          </a>
        </div>
      </button>
      -->
    </div>
    <!--CART BUTTON-->

  </div>

  <div class="d-flex justify-content-center flex-row flex-wrap" *ngIf="userLogged==false">

    <!--LANGUAGE-->
    <div class="d-flex dropdown dropdown-header p-0">
      <button class="btn pe-1 dropdown-toggle d-flex align-items-center header-login-user-mobile flex-row font-header-row" type="button"
        id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
        <div class="text-start">
          <a class="d-inline-block w-100 rounded-1">
            <span class="link-name">{{'text_language' | translate }}</span>
          </a>
        </div>
      </button>
      <ul class="dropdown-menu rounded-3" aria-labelledby="dropdownMenuButton1">

        <li>
          <a class="dropdown-item py-2 px-3 pointer" (click)="switchLang('fr')"
            [class.selectedLang]="selectedLang=='fr'">
            <img src="/assets/images/fr.png" width="24px" class="me-2">
            FR
          </a>
          <a class="dropdown-item py-2 px-3 pointer" (click)="switchLang('en')"
            [class.selectedLang]="selectedLang=='en'">
            <img src="/assets/images/en.png" width="24px" class="me-2">
            EN
          </a>
          <a class="dropdown-item py-2 px-3 pointer" (click)="switchLang('de')"
            [class.selectedLang]="selectedLang=='de'">
            <img src="/assets/images/de.png" width="24px" class="me-2">
            DE
          </a>
          <a class="dropdown-item py-2 px-3 pointer" (click)="switchLang('es')"
            [class.selectedLang]="selectedLang=='es'">
            <img src="/assets/images/es.png" width="24px" class="me-2">
            ES
          </a>
          <a class="dropdown-item py-2 px-3 pointer" (click)="switchLang('it')"
            [class.selectedLang]="selectedLang=='it'">
            <img src="/assets/images/it.png" width="24px" class="me-2">
            IT
          </a>
        </li>
      </ul>

    </div>
    <!--LANGUAGE-->

    <!--NEW CLIENT BUTTON-->
    <div class="d-flex p-0">
      <button class="btn rounded-2 pt-2 pb-2 margins-auto" type="button" data-bs-toggle="modal"
        data-bs-target="#register"><span>{{'text_new_client' | translate }}</span></button>
    </div>
    <!--NEW CLIENT BUTTON-->

    <!--LOGIN BUTTON-->
    <div class="d-flex p-0">
      <button class="btn btn-primary-bs rounded-2 pt-2 pb-2 margins-auto ml-1 header-login-btn-mobile" type="button"
        data-bs-toggle="modal" data-bs-target="#login">{{'text_already_client' | translate }}</button>
    </div>
    <!--LOGIN BUTTON-->

  </div>

</div>

<div #closeModalRegister class="modal fade modal-bs" id="register" tabindex="-1" aria-labelledby="tacheLabel"
  aria-hidden="true">
  <div class="modal-dialog" style="max-width: 800px;">
    <div class="modal-content">
      <div class="modal-header bg-gray p-4 pb-2">
        <div>
          <h5 class="modal-title text-white fw-medium" id="tacheLabel">{{'text_new_client' | translate }}</h5>
          <p class="mt-3"><span>{{'text_register_modal1' | translate }}.</span></p>
        </div>

        <button id="close_modalregister_btn" type="button" class="py-0 px-1 btn btn-light-gray-transparent-custom-bs"
          data-bs-dismiss="modal" aria-label="Close">
          <img src="/assets/icons/icons-outline-close.svg" alt="x" width="24px">
        </button>
      </div>
      <div class="modal-body bg-gray p-4 pb-2">

        <form [formGroup]="userRegisterForm">

          <div class="row mx-0 my-3">
            <div class="col-12 ps-0">
              <div class="form-group normal">
                <label class="mb-1 gray-label text-uppercase">{{'text_email' | translate }} *</label>
                <input type="email" class="form-control" formControlName="email">
              </div>
            </div>
          </div>

          <div class="row mx-0 my-3">
            <div class="col-6 ps-0">
              <div class="form-group normal">
                <label class="mb-1 gray-label text-uppercase">{{'text_password' | translate }} *</label>
                <input type="password" class="form-control" formControlName="password">
              </div>
            </div>
            <div class="col-6 ps-0">
              <div class="form-group normal">
                <label class="mb-1 gray-label text-uppercase">{{'text_repeat_password' | translate }} *</label>
                <input type="password" class="form-control" formControlName="password_confirmation">
              </div>
            </div>
          </div>

          <div class="row mx-0 my-3">
            <div class="col-6 ps-0">
              <div class="form-group normal">
                <label class="mb-1 gray-label text-uppercase">{{'text_first_name' | translate }} *</label>
                <input type="text" class="form-control" formControlName="first_name">
              </div>
            </div>
            <div class="col-6 ps-0">
              <div class="form-group normal">
                <label class="mb-1 gray-label text-uppercase">{{'text_last_name' | translate }} *</label>
                <input type="text" class="form-control" formControlName="last_name">
              </div>
            </div>
          </div>

          <div class="row mx-0 my-3">
            <div class="col-6 ps-0">
              <div class="form-group normal">
                <label class="mb-1 gray-label text-uppercase">{{'text_birth_date' | translate }} *</label>
                <input type="date" class="form-control" formControlName="birth_date">
              </div>
            </div>
            <div class="col-6 ps-0">
              <div class="form-group normal">
                <label class="mb-1 gray-label text-uppercase">{{'text_phone' | translate }} *</label>
                <input type="text" class="form-control" formControlName="phone">
              </div>
            </div>
          </div>

          <!--
          <div class="row mx-0 my-3">
            <div class="col-6 ps-0">
              <div class="form-group normal">
                <label class="mb-1 gray-label text-uppercase">{{'text_country' | translate }} *</label>
                <select class="form-control" [(ngModel)]="selectedCountry" (change)="getProvinceList()"
                  formControlName="country_id">
                  <option *ngFor="let country of countryList" value="{{country.id}}">{{country.name}}</option>
                </select>
              </div>
            </div>
            <div class="col-6 ps-0">
              <div class="form-group normal">
                <label class="mb-1 gray-label text-uppercase">{{'text_cp' | translate }} *</label>
                <input type="text" class="form-control" formControlName="cp">
              </div>
            </div>
          </div>
          -->

          <div class="row mx-0 my-3">
            <div class="col-6 ps-0">
              <div class="form-group normal">
                <label class="mb-1 gray-label text-uppercase">{{'text_country' | translate }} *</label>
                <select class="form-control" [(ngModel)]="selectedCountry" (change)="getProvinceList()"
                  formControlName="country_id">
                  <option *ngFor="let country of countryList" value="{{country.id}}">{{country.name}}</option>
                </select>
              </div>
            </div>
            <div class="col-6 ps-0">
              <div class="form-group normal">
                <label class="mb-1 gray-label text-uppercase">{{'text_province' | translate }} *</label>
                <select class="form-control" formControlName="province_id">
                  <option *ngFor="let province of provinceList" value="{{province.id}}">{{province.name}}</option>
                </select>
              </div>
            </div>
          </div>

          <div class="row mx-0 my-3">
            <div class="col-4 ps-0">
              <div class="form-group normal">
                <label class="mb-1 gray-label text-uppercase">{{'text_language' | translate }} 1 *</label>
                <select class="form-control" formControlName="language1_id">
                  <option *ngFor="let language of languageList" value="{{language.id}}">{{language.name}}</option>
                </select>
              </div>
            </div>
            <div class="col-4 ps-0">
              <div class="form-group normal">
                <label class="mb-1 gray-label text-uppercase">{{'text_language' | translate }} 2</label>
                <select class="form-control" formControlName="language2_id">
                  <option *ngFor="let language of languageList" value="{{language.id}}">{{language.name}}</option>
                </select>
              </div>
            </div>
            <div class="col-4 ps-0">
              <div class="form-group normal">
                <label class="mb-1 gray-label text-uppercase">{{'text_language' | translate }} 3</label>
                <select class="form-control" formControlName="language3_id">
                  <option *ngFor="let language of languageList" value="{{language.id}}">{{language.name}}</option>
                </select>
              </div>
            </div>
          </div>

        </form>
      </div>
      <div class="modal-footer bg-gray p-4">
        <button type="button" (click)="register()" class="btn btn-primary-bs px-4 rounded-16 w-100">Register</button>
      </div>
    </div>
  </div>
</div>

<div #closeModalLogin class="modal fade modal-bs" id="login" tabindex="-1" aria-labelledby="tacheLabel"
  aria-hidden="true">
  <div class="modal-dialog" style="max-width: 800px;">
    <div class="modal-content">
      <div class="modal-header bg-gray p-4 pb-2">
        <div>
          <h5 class="modal-title text-white fw-medium" id="tacheLabel">{{'text_login' | translate }}</h5>
        </div>

        <button id="close_modal_btn" type="button" class="py-0 px-1 btn btn-light-gray-transparent-custom-bs"
          data-bs-dismiss="modal" aria-label="Close">
          <img src="/assets/icons/icons-outline-close.svg" alt="x" width="24px">
        </button>
      </div>
      <div class="modal-body bg-gray p-4 pb-2">

        <form [formGroup]="userLoginForm">

          <div class="row mx-0 my-3">
            <div class="col-12 ps-0">
              <div class="form-group normal">
                <label class="mb-1 gray-label text-uppercase">{{'text_email' | translate }}</label>
                <input type="email" class="form-control" formControlName="email">
              </div>
            </div>
          </div>

          <div class="row mx-0 my-3">
            <div class="col-12 ps-0">
              <div class="form-group normal">
                <label class="mb-1 gray-label text-uppercase">{{'text_password' | translate }}</label>
                <input type="password" class="form-control" formControlName="password">
              </div>
            </div>
          </div>

        </form>
      </div>
      <div class="modal-footer bg-gray p-4 d-flex justify-content-center align-items-center">
        <button type="button" (click)="login()" class="btn btn-primary-bs px-4 rounded-16 w-100">Login</button>
        <p (click)="openResetPassword()" class="mt-3 pointer" type="button" data-bs-toggle="modal"
          data-bs-target="#reset_password"><span>{{'text_forgot_password' | translate }}</span></p>
      </div>
    </div>
  </div>
</div>

<div #closeModalResetPassword class="modal fade modal-bs" id="reset_password" tabindex="-1" aria-labelledby="tacheLabel"
  aria-hidden="true">
  <div class="modal-dialog" style="max-width: 800px;">
    <div class="modal-content">
      <div class="modal-header bg-gray p-4 pb-2">
        <div>
          <h5 class="modal-title text-white fw-medium" id="tacheLabel">{{'text_reset_password' | translate }}</h5>
        </div>

        <button id="close_modal_reset_password_btn" type="button"
          class="py-0 px-1 btn btn-light-gray-transparent-custom-bs" data-bs-dismiss="modal" aria-label="Close">
          <img src="/assets/icons/icons-outline-close.svg" alt="x" width="24px">
        </button>
      </div>
      <div class="modal-body bg-gray p-4 pb-2">

        <form [formGroup]="userResetPasswordForm">

          <div class="row mx-0 my-3">
            <div class="col-12 ps-0">
              <div class="form-group normal">
                <label class="mb-1 gray-label text-uppercase">{{'text_email' | translate }}</label>
                <input type="email" class="form-control" formControlName="email">
              </div>
            </div>
          </div>

        </form>
      </div>
      <div class="modal-footer bg-gray p-4 d-flex justify-content-center align-items-center">
        <button type="button" (click)="petitionRecover()" class="btn btn-primary-bs px-4 rounded-16 w-100">{{'text_reset_password' | translate }}</button>
      </div>
    </div>
  </div>
</div>
