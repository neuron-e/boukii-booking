<div class="modal" [@fadeInOut] *ngIf="isOpen" (click)="closeModal()">
  <div class="modal-content background-color-full rounded-8" (click)="$event.stopPropagation()">
    <div class="text-color fw-semibold text-semibig modal-flex-title">
      {{ 'text_new_client' | translate }}
      <img [src]="themeService.close" class="cursor-pointer" (click)="closeModal()" />
    </div>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="modal-form">
      <div
        style="width: 100%; height: 100%; padding-left: 20px; padding-right: 20px; padding-top: 10px; padding-bottom: 10px; background: #D2EFFF; border-radius: 8px; justify-content: flex-start; align-items: flex-start; gap: 8px; display: inline-flex;margin-bottom: 14px;">
        <div style="width: 24px; height: 24px; position: relative">
          <img src="assets/icons/info.png" alt>
        </div>
        <div
          style="flex: 1 1 0; flex-direction: column; justify-content: center; align-items: flex-start; gap: 4px; display: inline-flex">
          <div style="align-self: stretch;  word-wrap: break-word">
            {{'account_must_be_created_by_admin'|translate}}
          </div>
        </div>
      </div>
      <mat-form-field appearance="outline" class="flex-auto widthInput">
        <mat-label>{{'text_first_name' | translate}}</mat-label>
        <input matInput type="text" formControlName="first_name" required autocomplete="name">
      </mat-form-field>

      <mat-form-field appearance="outline" class="flex-auto widthInput">
        <mat-label>{{'text_last_name' | translate}}</mat-label>
        <input matInput type="text" formControlName="last_name" required autocomplete="family-name">
      </mat-form-field>

      <mat-form-field appearance="outline" class="flex-auto widthInput">
        <mat-label>{{'text_birth_date' | translate}}</mat-label>
        <input matInput type="date" formControlName="birth_date" required autocomplete="bday-day">
      </mat-form-field>

      <mat-form-field appearance="outline" class="flex-auto widthInput">
        <mat-label>{{'text_phone' | translate}}</mat-label>
        <input matInput type="text" formControlName="phone" required autocomplete="tel">
      </mat-form-field>

      <mat-form-field appearance="outline" class="widthInput">
        <mat-label>{{'text_language' | translate}} 1</mat-label>
        <input type="text" matInput formControlName="language1_id" [matAutocomplete]="autoStation">
        <mat-autocomplete #autoStation="matAutocomplete" [displayWith]="displayFn">
          <mat-option *ngFor="let item of langs" [value]="item.id">
            {{ item.lang | translate }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <mat-form-field appearance="outline" class="widthInput">
        <mat-label>{{'text_language' | translate}} 2</mat-label>
        <input type="text" matInput formControlName="language2_id" [matAutocomplete]="autoStation">
        <mat-autocomplete #autoStation="matAutocomplete" [displayWith]="displayFn">
          <mat-option *ngFor="let item of langs" [value]="item.id">
            {{ item.lang | translate }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <!--<mat-form-field appearance="outline" class="widthInput">
        <mat-label>{{'text_language' | translate}} 3</mat-label>
        <input type="text" matInput
          formControlName="language3_id" [matAutocomplete]="autoStation">
        <mat-autocomplete #autoStation="matAutocomplete"
          [displayWith]="displayFn">
          <mat-option *ngFor="let item of langs" [value]="item">
            {{ item.lang | translate }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>-->

      <mat-form-field appearance="outline" class="flex-auto" style="width: 100%">
        <mat-label>{{'text_email' | translate}}</mat-label>
        <input matInput type="email" formControlName="email" required autocomplete="email">
      </mat-form-field>

      <mat-form-field appearance="outline" class="flex-auto" style="width: calc(50% - 8px)">
        <mat-label>{{'text_password' | translate}}</mat-label>
        <input matInput type="password" formControlName="password" required autocomplete="new-password">
      </mat-form-field>

      <mat-form-field appearance="outline" class="flex-auto widthInput">
        <mat-label>{{'text_repeat_password' | translate}}</mat-label>
        <input matInput type="password" formControlName="confirmPassword" required autocomplete="new-password">
      </mat-form-field>

      <!-- Newsletter Checkbox -->
      <div style="margin: 16px 0; width: 100%;">
        <mat-checkbox 
          formControlName="accepts_newsletter"
          color="primary">
          {{ 'communications.accepts_newsletter' | translate }}
        </mat-checkbox>
        <p style="font-size: 12px; color: #666; margin-top: 4px; margin-left: 24px;">
          {{ 'communications.newsletter_description' | translate }}
        </p>
      </div>

      <button type="submit" [disabled]="loginForm.invalid" class="button-primary">
        {{ 'text_confirm' | translate }}
      </button>
      <div style="width: 100%; text-align: -webkit-center;">
        {{'already_have_an_account'|translate}}
      </div>
      <div (click)="goLogin.emit()" style="color: var(--Primary, #E91E63);
      font-weight: 600;
      width: 100%; 
      text-align: -webkit-center;
      " class="cursor-pointer">
        {{'log_in' | translate }}
      </div>
    </form>
  </div>
</div>
