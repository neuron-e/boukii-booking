<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="success-card text-center">
        <div class="success-icon mb-4">
          <i class="bi bi-check-circle-fill text-success"></i>
        </div>

        <h1 class="mb-3">{{ 'gift_vouchers.success_title' | translate }}</h1>
        <p class="lead text-muted mb-4">{{ 'gift_vouchers.success_subtitle' | translate }}</p>

        <div *ngIf="loading" class="alert alert-info mb-4">
          {{ 'gift_vouchers.summary_loading' | translate }}
        </div>
        <div *ngIf="errorKey" class="alert alert-warning mb-4">
          {{ errorKey | translate }}
        </div>

        <div class="card mb-4">
          <div class="card-body">
            <div class="voucher-details">
              <div *ngIf="voucherCode" class="voucher-code mb-4">
                <label class="text-muted mb-2">{{ 'gift_vouchers.your_code' | translate }}</label>
                <div class="code-display">
                  {{ voucherCode }}
                </div>
                <small class="text-muted">{{ 'gift_vouchers.code_info' | translate }}</small>
              </div>

              <div class="info-box">
                <i class="bi bi-envelope-check text-primary me-2"></i>
                <span>
                  {{
                    'gift_vouchers.email_sent' | translate:{
                      recipient: recipientName || ('gift_vouchers.recipient_default' | translate)
                    }
                  }}
                </span>
              </div>

              <div class="info-box" *ngIf="senderName">
                <i class="bi bi-person-heart text-primary me-2"></i>
                <span>{{ 'gift_vouchers.sent_by' | translate:{ sender: senderName } }}</span>
              </div>

              <div class="info-box" *ngIf="voucherDetails">
                <i class="bi bi-cash-stack text-primary me-2"></i>
                <span>
                  {{
                    'gift_vouchers.amount_paid' | translate:{
                      amount: ((voucherDetails?.amount ?? voucherDetails?.balance ?? 0) | number:'1.2-2'),
                      currency: voucherDetails?.currency || 'CHF'
                    }
                  }}
                </span>
              </div>

              <div class="info-box">
                <i class="bi bi-clock text-primary me-2"></i>
                <span>{{ 'gift_vouchers.processing_time' | translate }}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="next-steps mb-4">
          <h4 class="mb-3">{{ 'gift_vouchers.what_next' | translate }}</h4>
          <div class="row">
            <div class="col-md-6 mb-3">
              <div class="step-card">
                <i class="bi bi-1-circle text-primary"></i>
                <p>{{ 'gift_vouchers.step_1' | translate }}</p>
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <div class="step-card">
                <i class="bi bi-2-circle text-primary"></i>
                <p>{{ 'gift_vouchers.step_2' | translate }}</p>
              </div>
            </div>
          </div>
        </div>

        <div class="action-buttons">
          <a [routerLink]="getSchoolHomeLink()" class="btn btn-primary btn-lg me-2">
            <i class="bi bi-house-door me-2"></i>
            {{ 'common.go_home' | translate }}
          </a>
          <a [routerLink]="getGiftVoucherLink('purchase')" class="btn btn-outline-primary btn-lg">
            <i class="bi bi-plus-circle me-2"></i>
            {{ 'gift_vouchers.buy_another' | translate }}
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
